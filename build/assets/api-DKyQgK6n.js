import{s as e}from"./index-iFuku-S-.js";function t(){return`http://localhost:8080`}async function n(e,n){let r=t(),i=r?`${r}${e}`:e,a=await fetch(i,{method:`POST`,headers:{"Content-Type":`application/json`,Accept:`application/json`},body:JSON.stringify(n)}),o=await a.text().catch(()=>``);if(!a.ok)try{let e=(o?JSON.parse(o):null)?.message??o;throw Error(e||`Request failed (${a.status})`)}catch{throw Error(o||`Request failed (${a.status})`)}return o?JSON.parse(o):{}}async function r(t){let r=await n(e.bookingPage.form.submit.apiEndpoint||`/api/tickets/issue`,t);return r?.ticketId?r:{ticketId:`TKT-${Date.now().toString(36).toUpperCase()}`}}export{n,r as t};